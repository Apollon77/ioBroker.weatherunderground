<html>

<!-- these 4 files always have to be included -->
<link rel="stylesheet" type="text/css" href="../../lib/css/themes/jquery-ui/redmond/jquery-ui.min.css"/>
<script type="text/javascript" src="../../lib/js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../../socket.io/socket.io.js"></script>
<script type="text/javascript" src="../../lib/js/jquery-ui-1.10.3.full.min.js"></script>

<!-- these two file always have to be included -->
<link rel="stylesheet" type="text/css" href="../../css/adapter.css"/>
<script type="text/javascript" src="../../js/translate.js"></script>
<script type="text/javascript" src="../../js/adapter-settings.js"></script>


<!-- you have to define 2 functions in the global scope: -->
<script type="text/javascript">

    // Dictionary (systemDictionary is global variable from adapter-settings.js)
    systemDictionary = {
        "location":                    {"de": "Ort"},
        "station":                    {"de": "Mess-station"},
        "apikey":                    {"de": "Apikey"}
    };

    function load(settings, onChange) {
        $('#location').val(settings['location']);
        $('#station').val(settings['station']);
        $('#apikey').val(settings['apikey']);
    }

    function save(callback) {
        callback({location: $('#location').val().replace(/\s+/g, ''), station: $('#station').val().trim(), apikey: $('#apikey').val().trim()});
    }
</script>

<!-- you have to put your config page in a div with id adapter-container -->
<div id="adapter-container">

    <table><tr>
        <td><img src="wu.png"/></td>
        <td><h3 class="translate">Weatherunderground Adapter Settings</h3></td>
    </tr></table>
    <p style="padding-left: 12px">
        <label for="apikey" class="translate">apikey</label> <input class="value" type="text" id="apikey" size="80"/><br/>
        <label for="location" class="translate">location</label> <input class="value" type="text" id="location" size="80"/><br/>
        <label for="station" class="translate">station</label> <input class="value" type="text" id="station" size="80"/>
    </p>
    <h3>apikey</h3>
    <p>
    You will need your own apikey from Weatherunderground to call weatherforcasts in an automated manner:<br/>
    * Register/Login at <a target="blank" href="http://www.wunderground.com/weather/api/d/login.html">Weatherunderground Register</a><br/>
    * get your apikey <a target="blank" href="http://www.wunderground.com/weather/api/d/pricing">here</a>. purchase a free developer key<br/>
    </p>
    <h3>location</h3>
    <p>Select your location either by name (e.g. "Berlin"), Airport Code (e.g. "ZRH"), coordinates (e.g. "47.3145359,8.4159812") or Weatherstation-ID (e.g. "pws:IZRICHZR8")</p>
    <h3>Station - only for current conditions data</h3>
    <p>If you leave the station empty, then the nearest station according to the give location is picked automatically. If you are not happy with this choice you can insert here the station code of your
        preferred station (e.g. "IAARGAUB5"). You can find these codes e.g. on the <a target="blank" href="http://www.wunderground.com/wundermap">Wundermap</a> - click a station and look for the "Station ID"</p>
</div>

</html>
